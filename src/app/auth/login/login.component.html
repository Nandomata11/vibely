<div class="login-container">
  <div class="login-logo">
    <img src="assets/VibelyLogo.jpg" alt="Vibely Logo">
  </div>

  <div class="login-form">
    <h2>Iniciar sesión</h2>

    <form (ngSubmit)="onSubmit()" #loginForm="ngForm">
      <div class="form-group">
        <label for="email">Correo electrónico</label>
        <input type="email" id="email" [(ngModel)]="email" name="email" required #emailInput="ngModel">
        <div *ngIf="emailInput.invalid && emailInput.touched" class="error-message">
          El correo electrónico es obligatorio y debe ser válido.
        </div>
      </div>
    
      <div class="form-group">
        <label for="password">Contraseña</label>
        <input type="password" id="password" [(ngModel)]="password" name="password" required #passwordInput="ngModel">
        <div *ngIf="passwordInput.invalid && passwordInput.touched" class="error-message">
          La contraseña es obligatoria.
        </div>
      </div>
    
      <button type="submit" class="btn-primary" [disabled]="loginForm.invalid">Iniciar sesión</button>
    
      <!-- Mostrar el mensaje de error si las credenciales son incorrectas -->
      <div *ngIf="resetError" class="error-message">
        {{ resetError }}
      </div>
    
      <!-- Contenedor flex para los enlaces -->
      <div class="options">
        <a href="javascript:void(0)" (click)="toggleForgotPassword()">¿Has olvidado tu contraseña?</a>
        <a href="javascript:void(0)" (click)="goToRegister()">¿No tienes cuenta? Regístrate aquí</a>
      </div>
    </form>
    

    <!-- Formulario de restablecimiento de contraseña -->
    <div *ngIf="showForgotPassword" class="forgot-password-container visible">
      <h2>Restablecer contraseña</h2>
      <form (ngSubmit)="onSubmitForgotPassword()">
        <div class="form-group">
          <label for="resetEmail">Correo electrónico</label>
          <input type="email" id="resetEmail" [(ngModel)]="resetEmail" name="resetEmail" required>
        </div>

        <button type="submit" class="btn-primary">Enviar enlace de restablecimiento</button>

        <div *ngIf="resetMessage" class="message">{{ resetMessage }}</div>
        <div *ngIf="resetError" class="error-message">{{ resetError }}</div>
      </form>
    </div>
  </div>
</div>

<div class="footer">
  <p>&copy; 2025 Vibely. Todos los derechos reservados.</p>
</div>